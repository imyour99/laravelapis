<?php include('header.php'); ?>
<!-- row -->
<div class="row row-sm mt-lg-4">
	<div class="col-sm-12 col-md-6 col-lg-6 col-xl-4">
		<div class="card custom-card overflow-hidden mb-0">
			<div class="card-body">
				<div class="row">
					<div class="col-xs-12 col-sm-8 my-auto">
						<h6 class="mb-3 font-weight-bold">NOMBRE D’INSTALLATIONS</h6>
						<div class="text-left">
							<h3 class="font-weight-bold mr-3 mb-2 text-blue"> 205 425</h3>
							<p class="tx-13 my-auto text-muted ">Total du mois</p>
						</div>
					</div>
					<div class="col-xs-12 col-sm-4 my-auto text-center">
						<svg class="circle-chart" viewbox="0 0 33.83098862 33.83098862" width="100" height="100" xmlns="http://www.w3.org/2000/svg">
						  <circle class="circle-chart__background" stroke="#F1F1F1" stroke-width="2" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />
						  <circle class="circle-chart__circle" stroke="#009CDE" stroke-width="2" stroke-dasharray="25,75" stroke-linecap="round" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />
						  <span class="tx-16 font-weight-bold badage-text-value blue-badge-text">65</span>
						</svg>	
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-sm-12 col-md-6 col-lg-6 col-xl-4">
		<div class="card custom-card overflow-hidden mb-0">
			<div class="card-body">
				<div class="row">
					<div class="col-xs-12 col-sm-8 my-auto">
						<h6 class="mb-3 font-weight-bold">NOMBRE DE RDV PRIS</h6>
						<div class="text-left">
							<h3 class="font-weight-bold mr-3 mb-2" style="color: #F7617D;"> 205 425</h3>
							<p class="tx-13 my-auto text-muted ">Total du mois</p>
						</div>
					</div>
					<div class="col-xs-12 col-sm-4 my-auto text-center">
						<svg class="circle-chart" viewbox="0 0 33.83098862 33.83098862" width="100" height="100" xmlns="http://www.w3.org/2000/svg">
						  <circle class="circle-chart__background" stroke="#F1F1F1" stroke-width="2" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />

						  <circle class="circle-chart__circle" stroke="#F7617D" stroke-width="2" stroke-dasharray="25,75" stroke-linecap="round" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />
						  <span class="tx-16 font-weight-bold badage-text-value red-badge-text">65</span>
						</svg>	
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="col-sm-12 col-md-6 col-lg-6 col-xl-4">
		<div class="card custom-card overflow-hidden mb-0">
			<div class="card-body">
				<div class="row">
					<div class="col-xs-12 col-sm-8 my-auto">
						<h6 class="mb-3 font-weight-bold">TAUX DE RDV PLANIFIÉS</h6>
						<div class="text-left">
							<h3 class="font-weight-bold mr-3 mb-2" style="color: #FFA569;"> 205 425</h3>
							<p class="tx-13 my-auto text-muted ">Total du mois</p>
						</div>
					</div>
					<div class="col-xs-12 col-sm-4 my-auto text-center">
						
						<!-- <div class="forth circle">
							<div class="chart-circle-value circle-style "><div class="tx-16 font-weight-bold">10%</div></div>
						</div>	 -->

						<svg class="circle-chart" viewbox="0 0 33.83098862 33.83098862" width="100" height="100" xmlns="http://www.w3.org/2000/svg">
						  <circle class="circle-chart__background" stroke="#F1F1F1" stroke-width="2" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />

						  <circle class="circle-chart__circle" stroke="#ffa569" stroke-width="2" stroke-dasharray="25,75" stroke-linecap="round" fill="none" cx="16.91549431" cy="16.91549431" r="15.91549431" />
						  <span class="tx-16 font-weight-bold badage-text-value orange-badge-text">65</span>
						</svg>

					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- end row -->

<div class="row row-sm mt-lg-4">
	<div class="col-sm-12 col-md-8">
		<div class="card custom-card overflow-hidden">
			<div class="card-header border-bottom-0" style="min-height:490px">
				<div class="d-flex row">
					<div class="col-md-6 float-left">
						<label class="main-content-label mb-2">NOMBRE D'INTERVENTIONS PAR AGENCE</label>
					</div>

					<div class="col-md-6 float-right">
						<div class="row">
							<div class="col-md-12">
								<strong class="float-left mt-2" style="width: 77px;">Période du </strong>
								<div class="float-left" style="width: 120px;">
									<div class="datepicker-container">
										<i class="date-icon date-icon1 float-left" aria-hidden="true"></i>
										<input class="form-control bar-from" type="text" placeholder="00/00/0000">
									</div>
									<!--<i class="date-icon date-icon1 float-left" aria-hidden="true"></i>
									<input id="bar-from" type="text" placeholder="00/00/0000" />-->
							      	
							    </div>
								<strong class="float-left mt-2" style="width: 32px;text-align: center;"> au </strong>
								<div class="float-left" style="width: 120px;">
									<div class="datepicker-container">
										<i class="date-icon date-icon1 float-left" aria-hidden="true"></i>
										<input class="form-control bar-to" type="text" placeholder="00/00/0000">
									</div>
									<!--<i class="date-icon date-icon2 float-left" aria-hidden="true"></i>
									<input id="bar-to" type="text" placeholder="00/00/0000" />-->
							      	
							    </div>
							</div>
						</div>
					</div>
				</div>
				<div class="card-body pl-0">
						<div class="container"><div class="chartjs-size-monitor" style="position: absolute; inset: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>

							<div class="top10Legend pr-4">
								<ul class="1-legend">
									<li style="color: #009CDE;">
										<!--<span style="background-color:#A3A1FB"></span>-->
										Interventions
									</li>
									<li class="text-right" style="color: #A3A1FB;">
										<!--<span style="background-color:#009CDE"></span>-->Collaborateurs
									</li>
								</ul>
							</div>
						   <canvas id="nombre-agence" class="chartjs-render-monitor" width="730" height="365" style="display: block; width: 730px; height: 365px;"></canvas>
						</div>
					
				</div>

			</div>
		</div>
	</div>
	<div class="col-sm-12 col-md-4">
		<div class="card custom-card overflow-hidden">
			<div class="card-body">
				<div class="">
					<label class="main-content-label mb-2">TYPES DES CLIENTS</label>
				</div>
				<div class="chartjs-wrapper-demo">
					<div style="width:235px;height: 150px;margin: 10px auto 30px auto;"><div class="chartjs-size-monitor" style="position: absolute; inset: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
						<canvas id="chartPie" width="235" height="150" style="display: block; width: 235px; height: 150px;" class="chartjs-render-monitor"></canvas>
						
					</div>
					<div class="top10Legend" id="top10Legend"><ul class="1-legend"><li><span style="background-color:#A3A1FB"></span>ACCESSIBLE / PARTICULIER</li><li><span style="background-color:#27C291"></span>ACCESSIBLE / PROFESSIONNEL</li><li><span style="background-color:#009CDE"></span>INACCESSIBLE / PARTICULIER</li><li><span style="background-color:#F7617D"></span>INACCESSIBLE / PROFESSIONNEL</li></ul></div>	
					
				</div>
			</div>
		</div>

		<div class="card custom-card overflow-hidden mt-3">
			<div class="card-body">
				<div class="">
					<label class="main-content-label mb-2">INTERVENTIONS DU JOUR</label>
				</div>
				<div class="my-3">
					<div class="d-inline-block w-100">
						<span class="my-auto float-left">INTERVENTIONS REALISÉES</span>
						<span class="ml-auto float-right" style="color:#27C291;">15 00000</span>
					</div>
					<div class="progress mg-b-10" style="height:6px;">
						<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="50" class="progress-bar progress-bar-lg wd-50p" role="progressbar" style="background-color: #27C291;height: 6px;"></div>
					</div>
				</div>

				<div class="mt-3">
					<div class="d-inline-block w-100">
						<span class="my-auto float-left">INTERVENTIONS A FAIRE</span>
						<span class="ml-auto float-right" style="color: #FFA569;">2 0000</span>
					</div>
					<div class="progress mg-b-10" style="height:6px;">
						<div aria-valuemax="100" aria-valuemin="0" aria-valuenow="25" class="progress-bar progress-bar-lg wd-25p" role="progressbar" style="background-color: #FFA569;height: 6px;"></div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
					

<script type="text/javascript">
	$(function() {


        $('.bar-from,.bar-to').datepicker({
		    dateFormat: 'dd-M-yy',
		    minDate: 1
		  });
		  
		  $('.date-icon1').on('click', function() {
		    $('.bar-from').focus();
		  });

		  $('.date-icon2').on('click', function() {
		    $('.bar-to').focus();
		  });


		/* ********* Type of client chart display js ********* */
		
		var datapie = {
			// labels: ['ACCESSIBLE / PARTICULIER', 'ACCESSIBLE / PROFESSIONNEL', 'INACCESSIBLE / PARTICULIER', 'INACCESSIBLE / PROFESSIONNEL'],
			datasets: [{
				data: [25, 25, 25, 25],
				backgroundColor: ['#27C291', '#009CDE', '#F7617D', '#A3A1FB'],

			}],
			labels: ['ACCESSIBLE / PARTICULIER', 'ACCESSIBLE / PROFESSIONNEL', 'INACCESSIBLE / PARTICULIER', 'INACCESSIBLE / PROFESSIONNEL'],

		};
		var optionpie = {
			maintainAspectRatio: false,
			responsive: true,
			legend: {
				display: false,
			},
			animation: {
				animateScale: true,
				animateRotate: true
			}
		};

		/* Doughbut Chart*/
		var ctx6 = document.getElementById('chartPie');
		
		var myPieChart6 = new Chart(ctx6, {
			type: 'doughnut',
			data: datapie,
			
			options: {
				layout: {
			        padding: {
			            left: 20,
			            right: 20,
			            top: 10,
			            bottom: 10
			        }
			    },
				cutoutPercentage: 85,
				responsive: true,
				maintainAspectRatio: false,
				legend: {
					labels: {
						fontColor: "#53caed",
						fontSize: 9,
					},
					position: 'bottom',
					display:false
				},
				legendTemplate: "<ul class=\"<%=name.toLowerCase()%>-legend\"><% for (var i=0; i<segments.length; i++){%><li><span style=\"background-color:<%=segments[i].fillColor%>\"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>",
				plugins: {
			      	datalabels: {
				        formatter: (value, ctx) => {
			                let sum = 0;
			                let dataArr = ctx.chart.data.datasets[0].data;
			                dataArr.map(data => {
			                    sum += data;
			                });
			                let percentage = (value*100 / sum).toFixed(2)+"%";
			                //return percentage;
			                return '';
			            },
			            color: '#009CDE'
			      	},
			      	outlabels: {
			           text: '%p',
			           // color: '#009CDE',
			           color: ['#27C291', '#009CDE', '#F7617D', '#A3A1FB'],
			           backgroundColor: 'white',
			           lineColor: 'white',
			           stretch: 15,
			           font: {
			               resizable: true,
			               minSize: 16,
			               maxSize: 20
			           }
		        	}
			    },
			},

		});


		$("#top10Legend").html(myPieChart6.generateLegend());

		// ctx6.height = 300;
		// ctx6.width = 100;

	});

	var ctx10 = document.getElementById("nombre-agence").getContext("2d");
	var background_1 = ctx10.createLinearGradient(0, 0, 0, 600);
background_1.addColorStop(0, '#009CDE');
background_1.addColorStop(1, '#009CDE8A');

var background_2 = ctx10.createLinearGradient(0, 0, 50, 600);
background_2.addColorStop(0, '#A3A1FB');
background_2.addColorStop(1, '#A3A1FB8A');

	var data = {
	    labels: [["Agence","50%"], ["Agence","50%"], ["Agence","50%"], ["Agence","50%"], ["Agence","50%"], ["Agence","50%"], ["Agence","50%"]],
	    datasets: [
	        {
	            label: "Interventions",
	            backgroundColor: background_1,
	            data: [7524,3598,1002,2100,6541,2541,3573],
	            borderWidth: 1,
				borderColor: "#fff",
				fontColor: "#009cde",
				hoverBackgroundColor: background_1
	        },
	        {
	            label: "Collaborateurs",
	            backgroundColor: background_2,
	            data: [1450,1190,1100,1100,1350,1200,1250],
	            borderWidth: 1,
				borderColor: "#fff",
				fontColor: "#a4a2fb",
				hoverBackgroundColor: background_2
	        }
	    ]
	};

	var myBarChart = new Chart(ctx10, {
	    type: 'bar',
	    data: data,
	    options: {
			responsive: true,
	    	layout: {
		        padding: {
		            left: 0,
		            right: 20,
		            top: 40,
		            bottom: 20
		        },
		    },
	    	plugins: {
	    		legend: false,
		        datalabels: {
		        anchor: 'end',
		        align: 'top',
		        formatter: Math.round,
		        font: {
		          weight: 'bold'
		        }
		      }
		    },
	        scales: {
	   //      	yAxes: [{
	   //      		display: true,
    //   				position: 'left',
				//    ticks: {
				//    		beginAtZero: true,	
				//       // stepSize: 1000,
				//       // callback: function(value) {
				//       //    var ranges = [
				//       //       { divider: 1e6, suffix: 'M' },
				//       //       { divider: 1e3, suffix: 'k' }
				//       //    ];
				//       //    function formatNumber(n) {
				//       //       for (var i = 0; i < ranges.length; i++) {
				//       //          if (n >= ranges[i].divider) {
				//       //             return (n / ranges[i].divider).toString() + ranges[i].suffix;
				//       //          }
				//       //       }
				//       //       return n;
				//       //    }
				//       //    return formatNumber(value);
				//       // }
				//    }
				// },
				// {
    //   				display: true,
    //   				position: 'right',
    //   				ticks: {
    //     				// beginAtZero: true,
    //     				max: 100,
    //     				min: 0,
    //     				stepSize: 10
        				
    //   				}
    // 			}],
    			yAxes: [{
			      display: true,
			      position: 'left',
			      ticks: {
			        beginAtZero: true,
			        max: 10000,
			        min: 0,
			        stepSize: 1000
			      }
			    }, {
			      display: true,
			      position: 'right',
			      ticks: {
			        beginAtZero: true,
			        max: 100,
			        min: 0,
			        stepSize: 10
			      }
			    }],
	            /*yAxes: [{
	                ticks: {
	                    min: 0
	                }
	            }],*/
	            xAxes: [{
		            barPercentage: 0.50,
		            gridLines: {
			          display: false
			        },
		        }]
	        }
	    }
	});

	
</script>

<?php include('sidebar-footer.php'); ?>